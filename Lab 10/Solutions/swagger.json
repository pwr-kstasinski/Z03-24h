{"definitions":{"Auth":{"properties":{"login":{"description":"user login","type":"string"},"password":{"description":"user password","type":"string"}},"required":["login","password"]},"Chat":{"properties":{"group":{"description":"is group","type":"boolean"},"id":{"description":"user id or group id","type":"number"},"message":{"$ref":"#/definitions/Message","description":"last message"},"name":{"description":"user name or group name","type":"string"},"status":{"description":"true means online, false means offline","type":"boolean"},"unread":{"description":"number of unread messages","type":"number"}}},"Group":{"properties":{"id":{"description":"group id","type":"number"},"members":{"items":{"$ref":"#/definitions/User"},"type":"array"},"name":{"description":"group name","type":"string"},"owner_id":{"type":"string"}}},"Message":{"properties":{"date":{"format":"date-time","type":"string"},"group":{"description":"is group message","type":"boolean"},"id":{"type":"number"},"message":{"description":"message from sender to receiver","type":"string"},"receiver_id":{"description":"message receiver id or group id","type":"number"},"sender_id":{"description":"message sender id","type":"number"},"unread":{"type":"boolean"}}},"Token":{"properties":{"token":{"description":"jwt token","type":"string"}}},"User":{"properties":{"groups":{"items":{"$ref":"#/definitions/Group"},"type":"array"},"id":{"description":"user id","type":"number"},"login":{"description":"user login","type":"string"}}}},"info":{"title":"Messenger API","version":"1.0"},"paths":{"/chat-list":{"get":{"description":"","parameters":[{"description":"jwt","in":"query","name":"token","required":true,"type":"string"}],"responses":{"200":{"description":"List of chats","schema":{"items":{"$ref":"#/definitions/Chat"},"type":"array"}}},"summary":"Get chats list","tags":["chat"]}},"/groups":{"get":{"description":"","parameters":[{"description":"jwt","in":"query","name":"token","required":true,"type":"string"}],"responses":{"200":{"description":"List of groups","schema":{"items":{"$ref":"#/definitions/Group"},"type":"array"}}},"summary":"Get groups","tags":["group"]},"post":{"description":"","parameters":[{"in":"body","name":"group","required":true,"schema":{"$ref":"#/definitions/Group"}},{"description":"jwt","in":"query","name":"token","required":true,"type":"string"}],"responses":{"200":{"description":"Ok"},"400":{"description":"Bad request"}},"summary":"Create group","tags":["group"]}},"/login":{"post":{"description":"","parameters":[{"in":"body","name":"auth","required":true,"schema":{"$ref":"#/definitions/Auth"}}],"responses":{"200":{"description":"Login successful","schema":{"$ref":"#/definitions/Token"}},"401":{"description":"Invalid user or password"}},"summary":"Login user","tags":["auth"]}},"/message":{"post":{"description":"","parameters":[{"in":"body","name":"message","required":true,"schema":{"$ref":"#/definitions/Message"}},{"description":"jwt","in":"query","name":"token","required":true,"type":"string"}],"responses":{"200":{"description":"Ok"},"400":{"description":"Bad request"}},"summary":"Send message","tags":["message"]}},"/message-list":{"post":{"description":"","parameters":[{"in":"body","name":"message","required":true,"schema":{"$ref":"#/definitions/Message"}},{"description":"jwt","in":"query","name":"token","required":true,"type":"string"}],"responses":{"200":{"description":"List of messages","schema":{"items":{"$ref":"#/definitions/Message"},"type":"array"}}},"summary":"Get messages","tags":["message"]}},"/message/status":{"put":{"description":"","parameters":[{"in":"body","name":"messagesId","required":true,"schema":{"items":{"type":"number"},"type":"array"}},{"description":"jwt","in":"query","name":"token","required":true,"type":"string"}],"responses":{"200":{"description":"Ok"},"400":{"description":"Bad request"}},"summary":"Update message status","tags":["message"]}},"/online":{"get":{"description":"","parameters":[{"description":"jwt","in":"query","name":"token","required":true,"type":"string"}],"responses":{"200":{"description":"List of users","schema":{"items":{"type":"number"},"type":"array"}}},"summary":"Get online users login","tags":["user"]}},"/register":{"post":{"description":"","parameters":[{"in":"body","name":"auth","required":true,"schema":{"$ref":"#/definitions/Auth"}}],"responses":{"201":{"description":"Register successful"},"400":{"description":"Bad request"},"409":{"description":"Login exists"}},"summary":"Register user","tags":["auth"]}},"/users":{"get":{"description":"","parameters":[{"description":"jwt","in":"query","name":"token","required":true,"type":"string"}],"responses":{"200":{"description":"List of users","schema":{"items":{"$ref":"#/definitions/User"},"type":"array"}}},"summary":"Get users","tags":["user"]}}},"swagger":"2.0"}
